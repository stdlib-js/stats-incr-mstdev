// Copyright (c) 2022 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import e from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-positive-integer@esm/index.mjs";import r from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-number@esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-assert-is-nan@esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-sqrt@esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/array-float64@esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/error-tools-fmtprodmsg@esm/index.mjs";var m=e.isPrimitive,f=r.isPrimitive,o=t,l=s,a=i,d=n;var h=function(e,r){var t,s,i,n,h,j,p,u;if(!m(e))throw new TypeError(d("0eS8T",e));if(s=new a(e),p=e-1,n=0,u=-1,j=0,arguments.length>1){if(!f(r))throw new TypeError(d("0eSA8",r));return h=r,b}return h=0,v;function v(r){var m,f;if(0===arguments.length)return 0===j?null:1===j?o(n)?NaN:0:l(j<e?n/(j-1):n/p);if(u=(u+1)%e,o(r))j=e,n=NaN;else{if(j<e)return s[u]=r,n+=(t=r-h)*(r-(h+=t/(j+=1))),1===j?0:l(n/(j-1));if(1===j)return n=0;if(o(s[u])){for(j=1,h=r,n=0,m=0;m<e;m++)if(m!==u){if(f=s[m],o(f)){j=e,n=NaN;break}n+=(t=f-h)*(f-(h+=t/(j+=1)))}}else!1===o(n)&&(i=s[u],n+=(t=r-i)*(i-h+(r-(h+=t/e))))}return s[u]=r,l(n/p)}function b(r){var m;if(0===arguments.length)return 0===j?null:l(j<e?n/j:n/e);if(u=(u+1)%e,o(r))j=e,n=NaN;else{if(j<e)return s[u]=r,l((n+=(t=r-h)*t)/(j+=1));if(o(s[u])){for(n=0,m=0;m<e;m++)if(m!==u){if(o(s[m])){j=e,n=NaN;break}t=s[m]-h,n+=t*t}}else!1===o(n)&&(i=s[u],n+=(r-i)*(r-h+i-h))}return s[u]=r,l(n/e)}};export{h as default};
//# sourceMappingURL=index.mjs.map
