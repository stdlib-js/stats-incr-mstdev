// Copyright (c) 2024 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import{isPrimitive as e}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-positive-integer@v0.1.0-esm/index.mjs";import{isPrimitive as r}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-number@v0.1.1-esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-assert-is-nan@v0.1.1-esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-sqrt@v0.1.1-esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/array-float64@v0.1.1-esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/string-format@v0.1.1-esm/index.mjs";function a(a,m){var f,l,d,o,u,v,p,h;if(!e(a))throw new TypeError(n("invalid argument. Must provide a positive integer. Value: `%s`.",a));if(l=new s(a),p=a-1,o=0,h=-1,v=0,arguments.length>1){if(!r(m))throw new TypeError(n("invalid argument. Must provide a number. Value: `%s`.",m));return u=m,g}return u=0,j;function j(e){var r,s;if(0===arguments.length)return 0===v?null:1===v?t(o)?NaN:0:i(v<a?o/(v-1):o/p);if(h=(h+1)%a,t(e))v=a,o=NaN;else{if(v<a)return l[h]=e,o+=(f=e-u)*(e-(u+=f/(v+=1))),1===v?0:i(o/(v-1));if(1===v)return o=0;if(t(l[h])){for(v=1,u=e,o=0,r=0;r<a;r++)if(r!==h){if(s=l[r],t(s)){v=a,o=NaN;break}o+=(f=s-u)*(s-(u+=f/(v+=1)))}}else!1===t(o)&&(d=l[h],o+=(f=e-d)*(d-u+(e-(u+=f/a))))}return l[h]=e,i(o/p)}function g(e){var r;if(0===arguments.length)return 0===v?null:i(v<a?o/v:o/a);if(h=(h+1)%a,t(e))v=a,o=NaN;else{if(v<a)return l[h]=e,i((o+=(f=e-u)*f)/(v+=1));if(t(l[h])){for(o=0,r=0;r<a;r++)if(r!==h){if(t(l[r])){v=a,o=NaN;break}f=l[r]-u,o+=f*f}}else!1===t(o)&&(d=l[h],o+=(e-d)*(e-u+d-u))}return l[h]=e,i(o/a)}}export{a as default};
//# sourceMappingURL=index.mjs.map
